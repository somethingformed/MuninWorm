<!DOCTYPE html>
<html>
<head>
		<title>Number Incrementer</title>
		<script src="/socket.io/socket.io.js"></script>
</head>
<body>
		<h1 id="number"></h1>
		<button id="increment">Increment</button>
		<textarea id="message"></textarea>
		<button id="submit">Submit</button>
		<ul id="messages"></ul>

		<script>
				const socket = io();

				socket.on('recentMessages', (messages) => {
						const messagesList = document.getElementById('messages');
						messages.reverse().forEach((message) => {
								const listItem = document.createElement('li');
								listItem.textContent = `ID: ${message.id}, Message: ${message.text}`;
								messagesList.appendChild(listItem);
						});
				});


				socket.on('number', (number) => {
						document.getElementById('number').innerText = number;
				});

				document.getElementById('increment').addEventListener('click', () => {
						socket.emit('increment');
				});

			document.getElementById('submit').addEventListener('click', () => {
									const message = document.getElementById('message').value;
									socket.emit('submit', message);
							});
	</script>
</body>
</html>
